<!DOCTYPE html>
<html>
<head>
	<title>Gallery for Dmitri Maloff based on Slick carousel</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, max-age=0, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="Fri, 01 Jan 1990 00:00:00 GMT"/>
	<link rel="stylesheet" type="text/css" href="css/gallery.css?v=1.0.0.208">
	<link rel="stylesheet" type="text/css" href="css/slick.css?v=1.0.0.208"/>
	<script
  src="https://code.jquery.com/jquery-1.12.4.js"
  integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="
  crossorigin="anonymous"></script>
	<script type="text/javascript" src="slick.js"></script>
</head>
<body>
	<div class="entry-content">
		<div id='gallery-1' class='gallery galleryid-51' style="width: 1000px;">
			<ul class="slick">
			<img src="img/T98C6074.jpg" 
				alt="" width="1000" height="667" 
				class="alignnone size-full wp-image-45" 
				srcset="img/T98C6074.jpg 1000w, img/T98C6074-300x200.jpg 300w, img/T98C6074-768x512.jpg 768w" 
				sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" />
			<p><img src="img/T98C4734.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-41" srcset="img/T98C4734.jpg 1000w, img/T98C4734-300x200.jpg 300w, img/T98C4734-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
			<img src="img/2136320_original.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-17" srcset="img/2136320_original.jpg 1000w, img/2136320_original-300x200.jpg 300w, img/2136320_original-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" />
			<img src="img/T98C6074.jpg" 
				alt="" width="1000" height="667" 
				class="alignnone size-full wp-image-45" 
				srcset="img/T98C6074.jpg 1000w, img/T98C6074-300x200.jpg 300w, img/T98C6074-768x512.jpg 768w" 
				sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" />
			<p><img src="img/T98C4734.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-41" srcset="img/T98C4734.jpg 1000w, img/T98C4734-300x200.jpg 300w, img/T98C4734-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
			<p><img src="img/T98C4734.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-41" srcset="img/T98C4734.jpg 1000w, img/T98C4734-300x200.jpg 300w, img/T98C4734-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
			<img src="img/2136320_original.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-17" srcset="img/2136320_original.jpg 1000w, img/2136320_original-300x200.jpg 300w, img/2136320_original-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></ul>
			<div class="gallery-nav"></div>
		</div><!--//gallery-1-->

			<div id='gallery-2' class='gallery galleryid-51' style="width: 1000px;">
			<ul class="slick">
			<img src="img/T98C6074.jpg" 
				alt="" width="1000" height="667" 
				class="alignnone size-full wp-image-45" 
				srcset="img/T98C6074.jpg 1000w, img/T98C6074-300x200.jpg 300w, img/T98C6074-768x512.jpg 768w" 
				sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" />
			<p><img src="img/T98C4734.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-41" srcset="img/T98C4734.jpg 1000w, img/T98C4734-300x200.jpg 300w, img/T98C4734-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
			<img src="img/2136320_original.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-17" srcset="img/2136320_original.jpg 1000w, img/2136320_original-300x200.jpg 300w, img/2136320_original-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" />
			<p><img src="img/T98C4734.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-41" srcset="img/T98C4734.jpg 1000w, img/T98C4734-300x200.jpg 300w, img/T98C4734-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
			<img src="img/2136320_original.jpg" alt="" width="1000" height="667" class="alignnone size-full wp-image-17" srcset="img/2136320_original.jpg 1000w, img/2136320_original-300x200.jpg 300w, img/2136320_original-768x512.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></ul>
			<div class="gallery-nav"></div>
		</div><!--//gallery-1-->
		<script type="text/javascript"> 
		var j = jQuery.noConflict();
		j(document).ready(function() {
			let gallery = j( ".gallery" );
			let galleryImgs = gallery.find("img, picture");
			galleryImgs.each(function( i ) {
		   if (j(this).parent().is( "a" )){
			   	galleryImgs[i] = j(this).parent().get(0);
			  }
			  if ( j(galleryImgs[i]).parent().is( "p" ) ) {
			    j(galleryImgs[i]).unwrap();
			  }
			});
			galleryImgs.wrap( "<li></li>" );	
			gallery.find('.slick').after('<div class="gallery-counter"><span class="gallery-current"></span> / <span class="gallery-length"></span></div>');

			j('.slick').each(function(){
					j(this).slick({
					dots: false,
					arrows: false, 
					useTransform: false,				
					slide: "li", 
					respondTo: "slider", //ориентируемся на ширину слайдов
					speed:500, 
					appendArrows: j(this).parent().find(".gallery-nav"), 
					appendDots: j(this).parent().find(".gallery-nav")
				});		
					showCounter(j(this));
							
					j(this).on('click', function(){
						showCounter(j(this), true)
					});
					j(this).on('swipe', function(){
					  showCounter(j(this));
					});
			});

		});
		let showCounter = function(obj, gofw){
			let gallery = obj.parents('.gallery');
			let galLength = obj.find('.slick-slide:last-of-type').attr('data-slick-index');
			let currentSlide = obj.slick('slickCurrentSlide');
			if(gofw) {
				currentSlide++;
				if (currentSlide >= (galLength)) {
					currentSlide = 0;
				}
				obj.slick('slickGoTo', currentSlide, true);
			}
			gallery.find('.gallery-current').text(currentSlide +1);
			gallery.find('.gallery-length').text(galLength);
			return currentSlide;
		}
		</script>
	</div><!-- .entry-content -->

  
</body>
</html>