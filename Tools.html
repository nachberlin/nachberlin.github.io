<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<meta name="robots" content="noindex">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style class="cp-pen-styles">
	h2, h3 {color:#b3b3b3;}
	section {position:relative;width:50%;float:left;}
	span.comments { color: #777; font-size: 1em; padding-top:40px; display:inline-block;}
	input {margin-left:10px;}
	input:hover {
		content: "werwewe";
	}
	#resetTextFrom {position:absolute; left:10px;top:5px;}
	textarea {
		display:block;
		width:300px; height:100px;
		margin:0 10px 10px;
		padding-top:30px;
		}
	.doptext {padding-top: 0; }
	div#text_to {width:300px; height:100px; border:1px solid #b3b3b3; overflow:auto; margin:10px;}
	#newfield {display:none;}
	span.vsego { 
				display: block;
				position: relative; 
				top: -35px; left: 320px; 
				width: 20px; height:20px;
				color: #777; 
				font-size: 0.7em; 
				}
	#vsego1 {
		position: absolute;
		top: 110px;
	}
	.left {float:left;baseline:top;}

textarea::-webkit-input-placeholder {color:#c0392b;}
textarea::-moz-placeholder          {color:#c0392b;}/* Firefox 19+ */
textarea:-moz-placeholder           {color:#c0392b;}/* Firefox 18- */
textarea:-ms-input-placeholder      {color:#c0392b;}
textarea:focus::-webkit-input-placeholder {color: transparent;}
textarea:focus::-moz-placeholder          {color: transparent}
textarea:focus:-moz-placeholder           {color: transparent}
textarea:focus:-ms-input-placeholder      {color: transparent}
</style>
</head>
<body>
<section>
	<input type="reset" id="resetTextFrom"  value="Очистить" onclick="textReset();">
	<textarea id="text_from" class="left" ></textarea> <span id="vsego1" class="vsego"></span> 
	<input type="submit" id="" onclick="showFrom2();" value=">>" class="left">
	<div class="left" id="newfield">
		<textarea class="doptext" id="text_from2" placeholder="Объединение в словосочетания"></textarea>
		<textarea class="doptext" id="okonch" placeholder="Добавления окончаний"></textarea>
		<input type="submit" onclick="joinFields();" value="Объединить" data-text="Соединить содержимое в словосочетания">
		<fieldset><input type="text" name="second_name" id="second_name" placeholder="Фамилия">
		<input type="text" name="first_name" id="first_name" placeholder="Имя">
		<input type="text" name="third_name" id="third_name" placeholder="Отчество"><input type="submit" value="Варианты имени" data-text="Предложить все варианты написания имени" onclick="makeNames();"></fieldset>
	</div>
	<br style="clear:both">
	<div id="text_to">
		<span id="text_to_span"></span>
	</div>
	<span id="vsego2" class="vsego"></span>
	<input type="submit" id="" onclick="textToSmall();" value="To small case">
	<input type="submit" id="" onclick="unique();" value="Удалить повторы">
	<small><input type="checkbox" name="tosort" id="tosort">Сортировать по алфавиту</small>
	<p><strong>Не забывать про Яндекс Маркет!</strong></p>
	<div id="trash">
		<span id="text_to_trash"></span>
	</div>
</section>
<section>
	<h2>Стоп-слова</h2>
	<span id="stopwords" class="stopwords">"продам", "породам", "продаю", "отдам", "отдаю", в наличии, вналичии, выкуп, закуп, сп, орг сбор, "обменяю", "поменяю", "обменяюсь", "поменяюсь",  объявление на avito, промокод дня, server="http://www.jujuju.ru/", "в ассортименте", </span>

	<h3>Стоп-слова для компьютерных программ</h3>
	<span id="stopkomp" class="stopwords">journal="http://nnm-club.me/", торент, торрент, torrent, вакансия, ищу работу, "требуются", требуется разработчик, требуется программист, </span>

	<h3>Стоп-слова для косметики</h3>
	<span id="stopkosm" class="stopwords">код товара, аптечная закупка, black mask, наш интернет магазин, journal="http://kosmetika-sale.livejournal.com/", "АПТЕЧНАЯ КОСМЕТИКА КЭЖ", journal="http://vk.com/club40225923", journal="http://vk.com/club77573685", journal="http://vk.com/club46867429",</span>

	<h3>Стоп-слова для магазинов игрушек</h3>
	<span id="stoptoys" class="stopwords">"bit.ly", "cinema", "t.co", "Любимым деткам доставим радость", "заказать", "обменяю", "обменяюсь", "отдам", "отдаю", "поменяю", "поменяюсь", "предлагаю", "продам", "продаю", "р.", Convention Center, Movie, author="http://vk.com/club127154075", author="http://vk.com/club127154362", author="http://vk.com/club127154647", episode, journal="http://vk.com/club100428470", journal="http://vk.com/club108505287", journal="http://vk.com/club127154647", journal="http://vk.com/club51036509", lego_laso, season, server="http://ecoshopsforum.xyz/", server="http://shop-t.ru/", анимационный, анимация, артикул, бесплатно, в ассорт, в ассортименте, в наличии, вналичии, выкуп, грн, заказ, закуп, канал, капкейк, квартира NERF в России, кино*, конкурс, купон, мне понравилось видео, мульт*, наименование, начальная цена,  объявление на avito, озвучка, онлайн, оптовая закупка, орг сбор, отзыв, полный ассортимент, приз, призовой, прокат, промокод дня, режиссер, руб, сезон, секс, сериал*, серия, скачать, скидка, смотреть видео, сп, субтитры, сценарий, сценарист, титры, торент, торрент, торт, трейлер, фильм, цена обзор инструкция, цена по акции, фильм</span>

	<h3>Аренда</h3>
	<span id="arenda" class="stopwords">предпочтение некурящей, "сдам", "сдаю", "сниму", "сдается на длительный срок", комн квартира, комнатная, сдается на долгий срок, "сдаем", изолированная комната, двухкомнатная, однокомнатная, трехкомнатная, четырехкомнатная, "сдают", от собственника, сдается квартира, сдается комната, сдается студия, </span>

	<h3>Новости</h3>
	<span  id="news" class="stopwords" >обзор прессы, по сообщению, "сообщает", информирует, информационное агентство, реализация закона, worldnewsday, news, novosti, итар тасс</span>
	<h3>Спорт</h3>
	<span id="sport" class="stopwords">ледовый дворец, хоккей, хоккейный, шайба, штанга, тренер, полуфинал, финал, хоккеист, хокеист, чемпионат, динамо, игра, команда, вхл, чемпион, напротив завода, юхл, лед, первый период, второй период, матч, гол, тхк, обыграть, победа, переиграть, болельщик, спорт, спортзал, арена, ворота, трансляция,  крылья советов</span>
	
	<h3>Негативный окрас</h3>
	<span id="negative" class="stopwords">проблемы, проблемный, сервис, шизанутый, пипец, хамский, хамство, хамло, быдло, треш, трэш, твари, сволочи, гады, уроды, уродский, адски, пиздец, пиздецовый, аццкий, хуевый, фиговый, плохо, ужасно, отвратительно, безобразно, говно, говнище, дерьмо, дерьмовый, говенный, говеный, </span>

	<h3>Казахстан</h3>
	<span id="kazakhstan" class="stopwords">казахстан, казахстанский, тенге, тг, тнг, алматы, алматинский, астана, астанинский, шымкент, шымкентский, караганда, актобе, павлодар, костанай, усть каменогорск, уральск, карагандинский, актобинский, павлодарский, костанайский, усть каменогорский, устькаменогорский, geo="48.136207 67.153550 500km", geo="51.128422 71.430564 400km", geo="54.865472 69.135602 70km", geo="48.906463  83.562631 200km", geo="47.546609 54.277671 500km", geo="43.899938 77.531445 100km", geo="43.300674 68.270345 200km"</span>

	<h3>Спам про часы и прочий спам</h3>
	<span id="watches" class="stopwords">часы новый год, играя в казино вулкан, стильные часы для, брендовые часы, элегантные мужские часы, престижные мужские часы, превосходные мужские часы, потрясающие наручные часы, лучшие наручные часы, часы Emporio Armani, наручные часы Armani, любимому мужустили bmw бьянка, стили дисков bmw тренда уровни, царевич часы клайв, block часы ядерная, мужские часы Armani, бумер под кунсей ролл, на майнкрафт, блокады блокировка, зарядка без проводов и переходников, схемы заработка в интернете, удаленному и быстрому заработку, быстро продавать в Интернете, тема по заработку в интернете, схема по заработку в интернете, заработок для подростков дома, порно, порнуха, лесби, секс, член, пизда, "покупайте тут и не бойтесь", "оплатила за телефон на почте", "забрала телефон на почтовом отделении", "получила на почте", "забрала на почтовом отделении", "платила за телефон на почте", "получила посылку на почтовом отделении",</span>
	
	<h3>Дешевые аналоги лекарств</h3>
	<span id="analog" class="stopwords">"препараторов с идентичным составом", "препаратов с идентичным составом", "Вот как надо общаться в аптеке", "аналоги лекарств", "Многие дорогостоящие лекарственные препараты", "Важливо знати кожному", "дешевые аналоги", "замена дорогих лекарств", "Белосалик (380руб) и Акридерм СК", "Белосалик (380руб) = Акридерм СК", "аналоги дорогих лекарств",</span>
	
	<span class="comments">//todo:
	<ul><li>подключение стоп-слов на разные темы</li>
	<li>закавычивание и раскавычивание</li>
	<li>второе поле textarea для удаления из первого каких-то слов</li></ul>
	Ссылка на редактирование <a href="https://github.com/yan-tar/yan-tar.github.io/edit/master/Tools.html">тут</a>
	</span>	
	<p><small>$(".pbebc1c-link.ng-binding").each(function(i,elem){console.log(elem.getAttribute("href"))})</small><br />
	<small>$(".snippet-cell__header h4").text()</small><br />
	<small>$(".snippet-card__header-link .snippet-card__header-text").text()</small></p>
</section>

<script>
//todo: переделать в одну строчку и разбивать по пробелам
//потом еще можно сделать возможность забивать сразу несколько имен
var makeNames = function(){
	let person = {
		sName: document.getElementById('second_name').value.toLowerCase(),
		fName: document.getElementById('first_name').value.toLowerCase(),
		tName: document.getElementById('third_name').value.toLowerCase(),
		fInitial: document.getElementById('first_name').value.charAt(0).toLowerCase(),
		tInitial: document.getElementById('third_name').value.charAt(0).toLowerCase()
	}
	let nameVar = person.sName +" "+person.fName +" "+ person.tName + ", " + 
		person.fName +" "+ person.tName +" " + person.sName + ", " + 
		person.fName +" "+ person.sName + ", " + 
		person.fInitial +" "+ person.tInitial +" " + person.sName + ", " + 
		person.sName + " " + person.fInitial +" "+ person.tInitial +", " + 
		person.fInitial +" "+ person.sName;
	document.getElementById('text_to_span').innerHTML = nameVar;

	document.getElementById('second_name').value="";
	document.getElementById('first_name').value="";
	document.getElementById('third_name').value="";
}

var joinFields = function(){
	var field1 = document.getElementById('text_from').value;
	var field2, probel;
		console.log('пытаемся объединить');
	if(document.getElementById('text_from2').value.length > 0){
		field2 = document.getElementById('text_from2').value;
		probel  = true;
		console.log('словосочетания:', field2);
	}
	else {
		console.log('это не словосочетания');
	}
	if (document.getElementById('okonch').value.length > 0) {
		field2 = document.getElementById('okonch').value;
		probel = false;
		console.log('окончания: ', field2);
	}
	else {
		console.log('это не окончания');
	}
	console.log('объединяем с ',field2,'; probel',probel);
	var strings1 = field1.split(', ');
	var strings2 = field2.split(', ');
	var newString = [];
	for (var i = 0; i < strings1.length; i++) {
		for (var z = 0; z < strings2.length; z++)
			{			
				if(probel) {
					newString.push(strings1[i] + " " +strings2[z]);
				}
				else {
					newString.push(strings1[i] + strings2[z]);
				}
			};
	  };
	var vsego2 = newString.length;
	document.getElementById('text_to_span').innerHTML = newString.join(", ");
	document.getElementById('vsego2').innerHTML = vsego2;
}

var textToSmall = function () {
    var text_from = document.getElementById('text_from').value;
    document.getElementById('text_to_trash').innerHTML = text_from.toLowerCase();
	return false;
};



document.getElementById('text_to').addEventListener('click', function() { //выделение текста в диве text_to
    if (window.getSelection) {
        let range = document.createRange();
        range.selectNode(document.getElementById('text_to_span'));
		let selection = window.getSelection();
	    selection.removeAllRanges();
		selection.addRange(range);
		}
});
	
var stopWords = document.querySelectorAll('.stopwords');
Array.from(stopWords).forEach(p => {
    p.addEventListener('click', function(event) {
    	selectText(this);
    });
});
	
function selectText(n){
	if (window.getSelection) {
    let range = document.createRange();
    range.selectNode(n);
		let selection = window.getSelection();
	  selection.removeAllRanges();
		selection.addRange(range);
		}
}

textReset = function(){
	document.getElementById('text_from').value ="";
	return false;
}

//разбивает и сортирует по алфавиту, если нужна сортировка
function tosort(n){ 
	if(typeof n != "object"){ n = n.split(', ');}
	if (document.getElementById('tosort').checked == true) 	{ n.sort();	}
	return n;
}

//оставляет только уникальные слова
function unique() {
	var text_from = document.getElementById('text_from').value;
	var words = tosort(text_from);
	var trash = {};
	var obj = {};
	
	document.getElementById('vsego1').innerHTML = words.length;
	  for (var i = 0; i < words.length; i++) {
			var str = words[i];
			if (str in obj) {
			  obj[str] = true; // запомнить строку в виде свойства объекта 
			}
			else {
				trash[str] = true;
			}
			
	  }
	//надо бы превратить обратно в строку
	var newstr = Object.keys(obj).join(", ");
	var newtrash = Object.keys(trash).join(", ");

    document.getElementById('text_to_span').innerHTML = newstr;
    document.getElementById('trash').innerHTML = newtrash;
	document.getElementById('vsego2').innerHTML = Object.keys(obj).length;
	return false;
}

function showFrom2(){
	var newfield = document.getElementById('newfield');
	if (newfield.style.display=="block")
	{
		newfield.style.display = "none";
	}
	else {
		newfield.style.display = "block";
	}
}


</script>
</body></html>
